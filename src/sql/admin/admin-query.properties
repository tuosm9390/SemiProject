selectCondition=SELECT (SELECT COUNT(*) FROM MEMBER WHERE STATUS='Y' AND USER_TYPE='STUDENT') ALL_STUDENT1, (SELECT COUNT(*) FROM MEMBER WHERE TRUNC(SYSDATE,'MM') < ENROLL_DATE AND USER_TYPE='STUDENT') ENROLL_COUNT1, (SELECT COUNT(*) FROM MEMBER WHERE TRUNC(SYSDATE,'MM') < LEAVE_DATE AND USER_TYPE='STUDENT') LEAVE_COUNT1, (SELECT COUNT(*) FROM MEMBER WHERE ENROLL_DATE <=(SELECT ADD_MONTHS(SYSDATE,-1) FROM DUAL) AND (LEAVE_DATE >(SELECT ADD_MONTHS(SYSDATE,-1) FROM DUAL) OR LEAVE_DATE IS NULL) AND USER_TYPE='STUDENT') ALL_STUDENT2, (SELECT COUNT(*) FROM MEMBER WHERE ADD_MONTHS( TRUNC(SYSDATE,'MM'), -1 ) < ENROLL_DATE AND ENROLL_DATE < LAST_DAY(ADD_MONTHS( TRUNC(SYSDATE,'MM'), -1 )) AND USER_TYPE='STUDENT')ENROLL_COUNT2, (SELECT COUNT(*) FROM MEMBER WHERE ADD_MONTHS( TRUNC(SYSDATE,'MM'), -1 ) < LEAVE_DATE AND LEAVE_DATE < LAST_DAY(ADD_MONTHS( TRUNC(SYSDATE,'MM'), -1 )) AND USER_TYPE='STUDENT') LEAVE_COUNT2, (SELECT COUNT(*) FROM MEMBER WHERE ENROLL_DATE <=(SELECT ADD_MONTHS(SYSDATE,-2) FROM DUAL) AND (LEAVE_DATE >(SELECT ADD_MONTHS(SYSDATE,-2) FROM DUAL) OR LEAVE_DATE IS NULL) AND USER_TYPE='STUDENT') ALL_STUDENT3, (SELECT COUNT(*) FROM MEMBER WHERE ADD_MONTHS( TRUNC(SYSDATE,'MM'), -2 ) < ENROLL_DATE AND ENROLL_DATE < LAST_DAY(ADD_MONTHS( TRUNC(SYSDATE,'MM'), -2 )) AND USER_TYPE='STUDENT') ENROLL_COUNT3, (SELECT COUNT(*) FROM MEMBER WHERE ADD_MONTHS( TRUNC(SYSDATE,'MM'), -2) < LEAVE_DATE AND LEAVE_DATE < LAST_DAY(ADD_MONTHS( TRUNC(SYSDATE,'MM'), -2)) AND USER_TYPE='STUDENT') LEAVE_COUNT3, (SELECT COUNT(*) FROM MEMBER WHERE INFLOW_PATH = 'FRIEND') INFRIEND, (SELECT COUNT(*) FROM MEMBER WHERE INFLOW_PATH = 'INTERNET') ININTERNET, (SELECT COUNT(*) FROM MEMBER WHERE INFLOW_PATH = 'PICKET') INPICKET, (SELECT COUNT(*) FROM MEMBER WHERE INFLOW_PATH = 'PCARD') INPCARD, (SELECT COUNT(*) FROM MEMBER WHERE INFLOW_PATH = 'ETC') INETC FROM MEMBER
selectChart=SELECT CLS_NAME,CNT FROM (SELECT CLS_NO, CNT FROM (SELECT CLS_NO,COUNT(*) CNT FROM (SELECT CLS_NO FROM ENROLL E JOIN CLASS C USING(CLS_NO) WHERE (SELECT ADD_MONTHS(SYSDATE,-3) FROM DUAL) < CLS_START) GROUP BY CLS_NO ORDER BY COUNT(*) DESC) WHERE ROWNUM <= 3) D JOIN CLASS CC ON(D.CLS_NO = CC.CLS_NO) UNION ALL SELECT CLS_NAME,CNT FROM (SELECT CLS_NO, CNT FROM (SELECT CLS_NO,COUNT(*) CNT FROM (SELECT CLS_NO FROM ENROLL E JOIN CLASS C USING(CLS_NO) WHERE (SELECT ADD_MONTHS(SYSDATE,-3) FROM DUAL) < CLS_START) GROUP BY CLS_NO ORDER BY COUNT(*)) WHERE ROWNUM <= 3) D JOIN CLASS CC ON(D.CLS_NO = CC.CLS_NO)
