staffList=SELECT USER_NO, NAME, USER_ID, BIRTH, PHONE, ADDRESS, EMAIL, ENROLL_DATE, STATUS, USER_TYPE, DEPT, (EXTRACT(YEAR FROM SYSDATE) - EXTRACT(YEAR FROM BIRTH) + 1) AGE FROM MEMBER JOIN STAFF USING (USER_NO) WHERE (USER_TYPE = 'STAFF' OR USER_TYPE = 'TEACHER') AND STATUS = 'Y'
staffDetail=SELECT U.USER_NO, U.USER_TYPE, U.USER_ID, U.NAME, U.BIRTH, (EXTRACT(YEAR FROM SYSDATE) - EXTRACT(YEAR FROM U.BIRTH) + 1) AGE, U.PHONE, S.DEPT, U.EMAIL, U.ADDRESS, U.STATUS, F.FILE_NO, F.FILE_TYPE, F.ORIGIN_NAME, F.CHANGE_NAME, F.FILE_PATH, F.FILE_STATUS FROM MEMBER U JOIN STAFF S ON (U.USER_NO = S.USER_NO) LEFT JOIN (SELECT M.USER_NO, A.FILE_NO, A.FILE_TYPE, A.ORIGIN_NAME, A.CHANGE_NAME, A.FILE_PATH, A.FILE_STATUS FROM MEMBER M JOIN ATTACHMENT A ON (M.USER_NO = A.USER_NO) WHERE M.USER_NO = ? AND A.FILE_STATUS = 'Y') F ON (U.USER_NO = F.USER_NO) WHERE U.USER_NO = ?
deleteStaff=UPDATE MEMBER SET STATUS = 'N' WHERE USER_NO = ?
updateStaffInfo=UPDATE MEMBER SET NAME = ?, BIRTH = ?, PHONE = ?, EMAIL = ?, ADDRESS = ?, USER_TYPE = ? WHERE USER_NO = ?
updateStaffSubInfo=UPDATE STAFF SET DEPT = ? WHERE USER_NO = ?
insertFile=INSERT INTO ATTACHMENT VALUES (SEQ_FILE_NO.NEXTVAL, ?, ?, ?, SYSDATE, DEFAULT, ?, ?, NULL)
selectFileNo=SELECT FILE_NO FROM ATTACHMENT WHERE CHANGE_NAME = ?
insertStaffFile=INSERT INTO STAFF_DOC VALUES (?, ?, SYSDATE, ?)
deleteFile=UPDATE ATTACHMENT SET FILE_STATUS = 'N' WHERE FILE_NO = ? AND USER_NO = ?
deleteProfile=UPDATE ATTACHMENT SET FILE_STATUS = 'N' WHERE USER_NO = ? AND FILE_TYPE = 'PROFILE' AND FILE_NO <> ?
countProfile=SELECT COUNT(*) CNT FROM ATTACHMENT WHERE USER_NO = ? AND FILE_STATUS = 'Y' AND FILE_TYPE = 'PROFILE'